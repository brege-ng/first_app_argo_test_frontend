FROM node:22.14.0-alpine3.20

ENV HOST='0.0.0.0'
ENV PORT='3000'
ENV NODE_ENV=production

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .
RUN npm run build

RUN npm prune --production

EXPOSE 3000
CMD [ "npm", "start" ]




#FROM node:22.14.0

#ENV HOST='0.0.0.0'
#ENV PORT='3000'

#WORKDIR /app

#COPY package*.json ./

#RUN npm ci

#COPY . .

#RUN npm run build

#EXPOSE 3000

#CMD [ "npm", "start" ]
